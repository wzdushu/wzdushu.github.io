<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>saltstack on 丸子有记</title><link>/tags/saltstack/</link><description>Recent content in saltstack on 丸子有记</description><generator>Hugo -- gohugo.io</generator><language>en</language><managingEditor>wzdushu@gmail.com (wanzi)</managingEditor><webMaster>wzdushu@gmail.com (wanzi)</webMaster><copyright>丸子有记</copyright><lastBuildDate>Thu, 15 Feb 2018 16:22:42 +0800</lastBuildDate><atom:link href="/tags/saltstack/index.xml" rel="self" type="application/rss+xml"/><item><title>Saltstack - SaltAPI</title><link>/post/devops-saltstack-saltapi/</link><pubDate>Thu, 15 Feb 2018 16:22:42 +0800</pubDate><author>wzdushu@gmail.com (wanzi)</author><guid>/post/devops-saltstack-saltapi/</guid><description>Installation Copy 1 yum -y install salt-api Configuration cat /etc/salt/master.d/api.conf #Configure certificates and ports Copy 1 2 3 4 5 rest_cherrypy: port: 8888 debug: True ssl_crt: /etc/pki/tls/certs/localhost.crt ssl_key: /etc/pki/tls/private/localhost_nopass.key cat /etc/salt/master.d/eauth.conf #Set permissions Copy 1 2 3 4 5 6 external_auth: pam: saltapi: - .* - &amp;#39;@wheel&amp;#39; - &amp;#39;@runner&amp;#39; Add an account Copy 1 2 useradd -M -s /sbin/nologin saltapi echo &amp;#34;saltapi_xxxxxx&amp;#34; | passwd saltapi --stdin Start the service Copy</description></item><item><title>saltstack--salt command list</title><link>/post/devops-saltstack-commands/</link><pubDate>Sat, 10 Feb 2018 16:22:42 +0800</pubDate><author>wzdushu@gmail.com (wanzi)</author><guid>/post/devops-saltstack-commands/</guid><description>Common commands Copy 1 2 3 4 5 6 7 8 9 salt -N &amp;#39;ceph&amp;#39; test.ping #Test connectivity salt -E &amp;#39;^server10*&amp;#39; test.ping #Regular match connectivity salt -S 192.168.150.101 test.ping #Match and execute based on agent IP address salt -S 192.168.150.0/24 test.ping #Match and execute based on agent IP address salt -N &amp;#39;ceph&amp;#39; cmd.run &amp;#39;df -Th&amp;#39; #View disk usage by group salt -N &amp;#39;ceph&amp;#39; cmd.exec_code python &amp;#39;import os; print os.system(&amp;#34;df -Th&amp;#34;)&amp;#39;</description></item></channel></rss>